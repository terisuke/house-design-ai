# House Design AI プロジェクトロードマップ
## 最終更新日: 2025年4月28日

## 1. 全体目標
- 土地図から一軒家のCAD図面を自動生成するシステムの技術的実現
- 既存のYOLOv11による建物・道路セグメンテーションと、FreeCADによるCAD図面生成の統合
- Google Cloud Platform（GCP）を活用したスケーラブルなシステム構築
- 将来的なYOLOv12への移行計画の策定

## 2. 現状の実装状況（2025-04-28時点）
### 2.1 完了している機能
- [x] YOLOv11による建物・道路セグメンテーション
- [x] セグメンテーション結果からの建築可能エリア計算
- [x] 基本的な間取り生成アルゴリズム
- [x] Google Forms/Driveを活用したデータセット管理
- [x] FreeCADのDockerコンテナ化と基本動作検証
- [x] Cloud Run環境でのFreeCAD実行確認
- [x] Cloud StorageでのFCStdモデル保存
- [x] StreamlitアプリケーションのDockerコンテナ化
- [x] Artifact RegistryへのDockerイメージのプッシュ
- [x] PyTorchとStreamlitの互換性問題の解決

### 2.2 進行中の機能
- [ ] FreeCAD APIの完全実装
- [ ] StreamlitのCloud Runへのデプロイ
- [ ] Vertex AI統合の実装
- [ ] 建築基準法チェック機能
- [ ] 建具記号ライブラリの作成

### 2.3 今後の課題
- [ ] YOLOv12への移行計画の具体化
- [ ] 処理速度の最適化
- [ ] エラーハンドリングの強化
- [ ] ユーザーインターフェースの改善
- [ ] テストカバレッジの向上

## 3. 開発スケジュール

### 3.1 フェーズ1: 環境構築・基盤開発（4/8～5/5）
- [x] プロジェクト準備と環境セットアップ
- [x] Google Cloudプロジェクトのセットアップ
- [x] Google Drive/Forms連携の構築
- [x] FreeCADのDockerコンテナ化調査と初期実験

### 3.2 フェーズ2: コア機能開発第一段階（5/6～5/26）
- [x] 土地解析データ活用とFreeCAD連携
- [x] GCPサービス連携とストレージ実装
- [x] StreamlitアプリケーションのDockerコンテナ化
- [x] Artifact Registryへのイメージプッシュ

### 3.3 フェーズ3: コア機能開発第二段階（5/27～6/16）
- [ ] StreamlitアプリケーションのCloud Runデプロイ
- [ ] FreeCAD APIの完全実装
- [ ] Vertex AI統合の実装
- [ ] セグメンテーション精度向上と建築基準法チェック

### 3.4 フェーズ4: CAD図面生成とシステム統合（6/17～7/7）
- [ ] CAD図面生成機能の実装
- [ ] システム統合とテスト
- [ ] パフォーマンス最適化

### 3.5 フェーズ5: 検証と改善（7/8～7/15）
- [ ] 技術実証結果の評価
- [ ] 改善点の特定
- [ ] 将来計画の策定

## 4. 優先実装項目（2025-04-28更新）

### 4.1 StreamlitのGCPクラウドデプロイ
- Cloud RunへのStreamlitアプリケーションのデプロイ
- ユーザーインターフェースの最適化
- 認証・認可の実装

### 4.2 FreeCAD APIの完全実装
- 実際のFreeCAD処理の実装
- エラーハンドリングの強化
- パフォーマンス最適化

### 4.3 Vertex AI統合の実装
- YOLOv11モデルのVertex AIへの移行
- トレーニングパイプラインの構築
- 推論エンドポイントの設定

### 4.4 セグメンテーション精度の向上
- データセットの拡充
- モデルの再トレーニング
- 評価指標の改善

### 4.5 建築基準法チェック機能の実装
- 建ぺい率・容積率チェック
- 日影規制チェック
- 高さ制限チェック

## 5. リスク管理

### 5.1 技術的リスク
1. **FreeCADのクラウド環境での安定性**
   - 対策：コンテナ化とエラーハンドリングの強化
   - 代替案：ローカル処理の検討

2. **処理時間とコスト**
   - 対策：非同期処理とバッチ処理の実装
   - 代替案：処理の分割と最適化

3. **YOLOv12への移行リスク**
   - 対策：段階的な移行計画
   - 代替案：YOLOv11の継続使用

### 5.2 プロジェクトリスク
1. **チーム規模（2名）に対するタスク量**
   - 対策：優先順位の明確化
   - 代替案：外部リソースの活用

2. **スケジュールの遅延**
   - 対策：アジャイル開発手法の採用
   - 代替案：スコープの調整

## 6. 将来計画：YOLOv12への移行

### 6.1 移行の目的
1. アテンション機能の活用
2. 間取り画像認識機能の追加
3. 処理速度と精度の向上

### 6.2 移行準備（2025年7月～9月）
1. YOLOv12の調査と評価
2. データセットの拡充
3. 移行計画の詳細化

## 7. 成功基準

### 7.1 技術的基準
1. FreeCADによる基本的なCAD図面生成が可能
2. Cloud Run環境での安定した動作
3. 処理時間が許容範囲内（10分以内）

### 7.2 プロジェクト基準
1. 主要機能の実装完了
2. 基本的なエラーハンドリングの実装
3. 将来計画の具体化
